<style>
  .textarea-placeholder::placeholder {
    padding-left: 50px;
    /* Adjust placeholder position */
  }
</style>

<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>LLM Chatbot Dashboard</title>
  <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
</head>

<body class="bg-gray-100">
  <div class="container mx-auto p-4">

    <!-- Dashboard Layout -->
    <div class="flex">

      <!-- Left Column -->
      <div class="w-1/3 p-2 flex flex-col">

        <!-- Static Header -->
        <div class="bg-white p-4 mb-4 text-center font-bold uppercase text-lg">
          Static 
        </div>

        <!-- Global Knowledge Section -->
        <div class="bg-white p-4">
          <h2 class="font-bold text-lg mb-2">Global Knowledge</h2>
          <div id="globalKnowledgeText" class="h-40 overflow-auto mb-4 bg-gray-100 p-2"> The land of Hyrule is experiencing a period of peace, yet Link is feeling increasingly useless and bored with no adventures to go on. Suddenly a wizard named Gwonam arrives on his flying carpet, informing King Harkinian that Ganon's army have taken over the island of Koridai. Ganon and his minions have begun enslaving the islanders and transforming them into monsters. Although the King readily volunteers their aid, Gwonam explains that according to a written prophecy, Link is the only one who can defeat Ganon. As Link and Gwonam fly back to Koridai, the wizard tells him about the island's "Faces of Evil"; giant mountains and stone structures that are in the shape of Ganon's minions and are being controlled by them. Gwonam beseeches that Link must conquer each Face of Evil before facing Ganon himself, who has his own Face of Evil.

            Link adventures through Koridai and along the way meets several islanders who have evaded capture. At Firestone Lake, Link and Gwonam realize that Princess Zelda was captured by Ganon and put under a sleeping spell since Link left the castle. As Link journeys to rescue Zelda and the islanders of Koridai, he confronts and defeats the masters of the Faces of Evil: Goronu, Harlequin, Militron, Glutko, and Lupay. He also retrieves the Book of Koridai after defeating Glutko which he soon brings to the reader Aypo in Nortinka. Aypo translates its verses and reveals that Ganon can only be defeated with the Book. Link also later finds Gwonam's residence at the Hermit Flat and is given the Lantern of Vision to help him see the Sancrumies that swarm Ganon's Lair.
            
            After all other obstacles have been cleared, Link finally journeys to Ganon's Lair where he confronts the villain deep within his Face of Evil. Link defeats Ganon by throwing the Book of Koridai at him, which magically imprisons him inside its pages. Ganon drops the key to Zelda's prison chamber, where Link finds and wakes her up by ringing a gong. Gwonam then teleports inside to take the pair back to Hyrule. He announces that peace is restored to Koridai and proclaims Link as their hero. </div>
          <button id="uploadGlobalText"
            class="bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded">Input Text</button>
          <button id="enhanceGlobalText"
            class="bg-green-500 hover:bg-green-700 text-white font-bold py-2 px-4 rounded">Enhance Text</button>
        </div>

        <!-- Local Knowledge Section -->
        <div class="bg-white p-4">
          <h2 class="font-bold text-lg mb-2">Local Knowledge</h2>
          <div id="localKnowledgeText" class="h-40 overflow-auto mb-4 bg-gray-100 p-2" > Morshu is the owner of the general store in the Goronu area of Koridai. His shop sits at the base of the valley pass, atop a small bridge next to a rapid waterfall. Should Link interact with him, he will name the wares he sells, Lantern Oil, Ropes, and Bombs, and inform Link that he can have them should he have the money to pay for them. Should Link not have enough rubies, he will tell him to come back when he is richer. </div>
          <button id="uploadLocalText"
            class="bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded">Input Text</button>
          <button id="enhanceLocalText"
            class="bg-green-500 hover:bg-green-700 text-white font-bold py-2 px-4 rounded">Enhance Text</button>
        </div>

        <!-- Large Button at the Bottom -->
        <div class="mt-4 flex flex-full justify-center">
          <button class="bg-purple-500 hover:bg-purple-700 text-white font-bold my-2 py-4 px-6 rounded">Improvement
            Mode</button>
        </div>
        
      </div>

      <!-- Right Column -->
      <div class="w-2/3 p-2 flex flex-col">

        <!-- Dynamic Header -->
        <div class="bg-white p-4 mb-4 text-center font-bold uppercase text-lg">
          Dynamic
        </div>

        <!-- Analysis Section -->
        <div class="analysis-section bg-white p-4 relative">
          <button id="toggleMode"
            class="absolute top-5 right-5 bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded">Toggle
            Mode</button>

          <!-- Setup Mode Content -->
          <div id="setupMode">
            <h2 class="font-bold text-lg mb-2">Setup</h2>

            <!-- Conversation metrics original values -->
            <div class="grid grid-cols-2 gap-4">
              <div>Familiarity<span class="mr-4"></span><input type="number" class="setup-input w-16 bg-gray-100"
                  min="0" max="10" value="0"></div>
              <div>Agressivity <span class="mr-4"></span><input type="number" class="setup-input w-16 bg-gray-100"
                  min="0" max="10" value="0"></div>
              <div>Manipulation <span class="mr-4"></span><input type="number" class="setup-input w-16 bg-gray-100"
                  min="0" max="10" value="0"></div>
              <div>Humor <span class="mr-4"></span><input type="number" class="setup-input w-16 bg-gray-100" min="0"
                  max="10" value="0"></div>
              <div>Fear <span class="mr-4"></span><input type="number" class="setup-input w-16 bg-gray-100" min="0"
                  max="10" value="0"></div>
              <div>GIRL BOSS <span class="mr-4"></span><input type="number" class="setup-input w-16 bg-gray-100" min="0"
                  max="10" value="0"></div>
            </div>

            <!-- Converation metric triggers -->
            <!-- Triggers Section -->
            <div class="triggers-section mt-4">
              <button id="addTrigger"
                class="bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded mb-2">Add Trigger</button>
              <ul id="triggerList" class="list-disc pl-5">
                <!-- Trigger items will be added here -->
              </ul>
            </div>

            <!-- Popup Modal for Adding Trigger -->
            <div id="triggerModal"
              class="hidden fixed inset-0 bg-gray-200 bg-opacity-75 flex items-center justify-center">
              <div class="bg-white p-6 rounded-lg trigger-modal-content w-1/2">
                <div class="flex items-center mb-4">
                  <select id="triggerWord" class="mr-4">
                    <option>Familiarity</option>
                    <option>Agressivity</option>
                    <option>Manipulation</option>
                    <option>Humor</option>
                    <option>Fear</option>
                    <option>GIRL BOSS</option>
                  </select>
                  <input class="bg-gray-100" type="number" id="triggerValue" min="0" max="10" class="w-16 mr-4">
                </div>
                <textarea type="text" id="triggerText" class="w-full h-24 mb-4"
                  placeholder="Event triggered here"></textarea>
                <button id="saveTrigger"
                  class="bg-green-500 hover:bg-green-700 text-white font-bold py-2 px-4 rounded">Save</button>
              </div>
            </div>

          </div>

          <!-- Analysis Mode Content -->
          <div id="analysisMode" class="hidden">
            <div class="analysis-section bg-white p-4">
              <h2 class="font-bold text-lg ">Analysis</h2>
              <canvas id="lineChart"></canvas>
            </div>
          </div>

          <!-- Chat section -->

          <div class="w-full flex pt-4">

            <!-- Text Section -->
            <div class="w-2/3 flex flex-col bg-white p-4">
              <div id="chatArea" class="h-64 overflow-wrap mb-4 bg-gray-100 p-2"></div>
              <input type="text" id="userInput" class="border border-gray-300 p-2 w-full mb-2"
                placeholder="Type your message...">
              <button id="sendMessage"
                class="bg-green-500 hover:bg-green-700 text-white font-bold py-2 px-4 rounded">Send</button>
            </div>

            <!-- Face Section lol -->
            <div class="w-1/3 bg-white flex items-center justify-center relative">
              <img src="content/frame.png" alt="Frame" class="absolute w-full h-full" style="z-index: 1;">
              <img id="animatedGif" src="" alt="Animated GIF" class="max-h-full max-w-full relative"
                style="display:block; width: 80%; height: 79%; top: 24px; left: -5px; z-index: 2">
            </div>
          </div>
        </div>
      </div>
    </div>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="index.js"></script>
</body>

</html>